import { strictEqual } from 'assert';
import { SupportedLanguage } from '../../../../../../snyk/snykOss/services/vulnerabilityCount/ossVulnerabilityCountService';
import { BabelParser } from '../../../../../../snyk/snykOss/services/vulnerabilityCount/parsers/babelParser';
import { ModuleParserProvider } from '../../../../../../snyk/snykOss/services/vulnerabilityCount/parsers/moduleParserProvider';

suite('OSS ModuleParserProvider', () => {
  test('Babel parser is returned for TS and JS', () => {
    const parser = ModuleParserProvider.getInstance(SupportedLanguage.JavaScript);
    strictEqual(parser instanceof BabelParser, true);
  });

  test('Undefined instance is returned for non-supported language', () => {
    const parser = ModuleParserProvider.getInstance(SupportedLanguage.HTML);
    strictEqual(parser, undefined);
  });
});
