import { SupportedLanguage } from '../ossVulnerabilityCountService';
import { BabelParser } from './babelParser';
import { HtmlParser } from './htmlParser';
import { ModuleParser } from './moduleParser';
import { PackageJsonParser } from './packageJsonParser';

export class ModuleParserProvider {
  static getInstance(language: SupportedLanguage): ModuleParser | undefined {
    if ([SupportedLanguage.TypeScript, SupportedLanguage.JavaScript].includes(language)) {
      return new BabelParser();
    } else if (language === SupportedLanguage.PJSON) {
      return new PackageJsonParser();
    } else if (language === SupportedLanguage.HTML) {
      return new HtmlParser();
    }

    return undefined;
  }
}
